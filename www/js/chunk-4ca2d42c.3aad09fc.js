(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ca2d42c"],{a047:function(t,e,a){"use strict";var s=a("a720"),r=a.n(s);r.a},a720:function(t,e,a){},b78b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"dashboard-approval-requests-page py-2"},["getApprovalRequests"===t.request.key&&t.request.inProgress?a("div",{staticClass:"text-center m-10"},[a("img",{staticClass:"mb-5 block mx-auto",attrs:{src:"/img/loader.gif",width:"40",alt:"Loader Gif"}}),a("p",{staticClass:"mx-auto leading-normal text-lg"},[t._v("\n      Fetching your requests for approval...\n    ")])]):t.approvalRequests.length?a("div",[a("transition-group",{attrs:{tag:"section",css:!1},on:{leave:t.leave}},t._l(t.approvalRequests,function(e){return a("div",{key:e.Request_ID,staticClass:"approval-card mx-4 mb-3 bg-white overflow-hidden pointer relative rounded-lg shadow pb-5 px-6 py-4",on:{click:function(a){return a.preventDefault(),t.openApprovalRequestModal(e)}}},[a("p",{staticClass:"text-lg leading-normal mb-1"},[t._v("\n          "+t._s(e.Summary__c)+"\n        ")]),a("p",{staticClass:"leading-tight text-sm text-grey-darker"},[a("span",{staticClass:"text-grey-darkest text-semibold"},[t._v("By: ")]),t._v(t._s(e.Customer_Full_Name__c)+" ("+t._s(e.Requested_By_Login_ID__c)+")\n        ")]),a("p",{staticClass:"leading-normal text-sm text-grey-darker"},[a("span",{staticClass:"text-grey-darkest text-semibold"},[t._v("Dated: ")]),t._v("\n          "+t._s(t._f("dateFormat")(e.Submit_Date__c))+" at "+t._s(t._f("dateFormat")(e.Submit_Date__c,{timestampMini:!0}))+"\n        ")]),a("div",{staticClass:"absolute pin-r pin-y flex items-center"},[a("i",{staticClass:"fas fa-angle-double-right px-4 text-grey-darker"})])])}),0),a("modal",{ref:"approval-request-modal-comp",attrs:{"show-close-btn":!0,name:"approval-request-modal"}},[a("div",{staticClass:"mb-4 px-4 py-2"},[a("h4",{staticClass:"full-width my-2"},[t._v("\n          Request Details:\n        ")]),a("ul",{staticClass:"list-reset"},[a("li",{staticClass:"border-b py-2 relative"},[a("h4",{staticClass:"mt-1 text-xs text-grey-darker"},[t._v("\n              Request ID\n            ")]),a("p",{staticClass:"pt-1 text-grey-darkest"},[t._v("\n              "+t._s(t.approvalObj.Request_ID)+"\n            ")])]),a("li",{staticClass:"border-b py-2 relative"},[a("h4",{staticClass:"mt-1 text-xs text-grey-darker"},[t._v("\n              Request Title\n            ")]),a("p",{staticClass:"pt-1 text-grey-darkest"},[t._v("\n              "+t._s(t.approvalObj.Summary__c)+"\n            ")])]),a("li",{staticClass:"border-b py-2 relative"},[a("h4",{staticClass:"mt-1 text-xs text-grey-darker"},[t._v("\n              Requested By\n            ")]),a("p",{staticClass:"pt-1 text-grey-darkest"},[t._v("\n              "+t._s(t.approvalObj.Customer_Full_Name__c)+" ("+t._s(t.approvalObj.Requested_By_Login_ID__c)+")\n            ")])]),a("li",{staticClass:"border-b py-2 relative"},[a("h4",{staticClass:"mt-1 text-xs text-grey-darker"},[t._v("\n              Request Date\n            ")]),a("p",{staticClass:"pt-1 text-grey-darkest"},[t._v("\n              "+t._s(t._f("dateFormat")(t.approvalObj.Submit_Date__c))+" at "+t._s(t._f("dateFormat")(t.approvalObj.Submit_Date__c,{timestampMini:!0}))+"\n            ")])]),a("li",{staticClass:"border-b py-2 relative"},[a("h4",{staticClass:"mt-1 text-xs text-grey-darker"},[t._v("\n              Site\n            ")]),a("p",{staticClass:"pt-1 text-grey-darkest"},[t._v("\n              "+t._s(t.approvalObj.Site__c)+"\n            ")])]),a("li",{staticClass:"border-b py-2 relative"},[a("h4",{staticClass:"mt-1 text-xs text-grey-darker"},[t._v("\n              Summary\n            ")]),a("p",{staticClass:"pt-1 text-grey-darkest"},[t._v("\n              "+t._s(t.approvalObj.Details__c)+"\n            ")])])]),a("div",{staticClass:"cta-cont flex flex-wrap mb-2 mt-4"},[a("h4",{staticClass:"full-width my-4"},[t._v("\n            Do you want to approve this request?\n          ")]),a("button",{staticClass:"button border-2 border-grey-dark font-semibold leading-normal mr-2 px-4 py-1 rounded text-grey-darker text-sm w-1/3",class:{loading:"updateApprovalRequests"===t.request.key&&t.request.inProgress&&"Rejected"===t.reqStatus},attrs:{disabled:"updateApprovalRequests"===t.request.key&&t.request.inProgress&&"Rejected"===t.reqStatus},on:{click:function(e){e.preventDefault(),t.reqStatus="Rejected",t.updateApproval(!1)}}},[t._v("\n            Reject\n            "),a("ring-loader",{attrs:{thickness:"2px",color:"#8795a1",width:"20px",height:"20px"}})],1),a("button",{staticClass:"bg-green button border-2 border-green font-semibold leading-normal px-4 py-1 rounded text-sm text-white w-1/3",class:{loading:"updateApprovalRequests"===t.request.key&&t.request.inProgress&&"Approved"===t.reqStatus},attrs:{disabled:"updateApprovalRequests"===t.request.key&&t.request.inProgress&&"Approved"===t.reqStatus},on:{click:function(e){e.preventDefault(),t.reqStatus="Approved",t.updateApproval(!0)}}},[t._v("\n            Approve\n            "),a("ring-loader")],1)])])])],1):a("div",{staticClass:"text-center m-10"},[a("p",{staticClass:"leading-tight mx-auto text-2xl w-64"},[t._v("\n      There are no requests pending for approval.\n    ")])])])},r=[],n=(a("96cf"),a("3b8d")),l=a("db72"),o=a("2f62"),i={name:"Approvals",components:{Modal:function(){return a.e("chunk-3131cf5f").then(a.bind(null,"aff5"))}},data:function(){return{approvalObj:{},reqStatus:""}},computed:Object(l["a"])({},Object(o["c"])(["approvalRequests","request"])),beforeMount:function(){this.getApprovalRequests()},methods:Object(l["a"])({},Object(o["b"])(["getApprovalRequests","updateApprovalRequests"]),{openApprovalRequestModal:function(t){this.approvalObj=Object(l["a"])({},t)||{},this.$refs["approval-request-modal-comp"].$data.isOpen=!0},updateApproval:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(l["a"])({},this.approvalObj,{Approval_Status:e?"Approved":"Rejected"}),t.prev=1,t.next=4,this.updateApprovalRequests(a);case 4:this.$refs["approval-request-modal-comp"].$data.isOpen=!1,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](1);case 9:case"end":return t.stop()}},t,this,[[1,7]])}));function e(e){return t.apply(this,arguments)}return e}(),leave:function(t,e){var a=t,s=getComputedStyle(a),r=s.height;a.style.height=r,getComputedStyle(a).height,setTimeout(function(){a.style.height=0,a.style.paddingTop=0,a.style.paddingBottom=0,a.style.marginTop=0,a.style.marginBottom=0,a.style.background="#ff5959",setTimeout(function(){a.style.transform="scaleX(1.1)"},150),setTimeout(e,700)},0)}})},p=i,u=(a("a047"),a("2877")),c=Object(u["a"])(p,s,r,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-4ca2d42c.3aad09fc.js.map