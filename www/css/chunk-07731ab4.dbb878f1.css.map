{"version":3,"sources":["webpack:///src/views/mobile/dashboard-pages/articles/src/views/mobile/dashboard-pages/articles/article-detail.vue","chunk-07731ab4.dbb878f1.css"],"names":[],"mappings":"AAmHA,oBACA,mBClHA,CDoHA,oCACA,kBClHA,CDoHA,8BACA,gBClHA,CDoHA,oCACA,iBAAA,CACA,KAAA,CACA,MAAA,CACA,UAAA,CACA,uBAAA,CACA,UAAA,CACA,2GAAA,CAAA,mFCjHA","file":"chunk-07731ab4.dbb878f1.css","sourcesContent":["<template>\n  <section class=\"dashboard-article-detail-page bg-white h-min-screen relative\">\n    <div class=\"back-cont fixed pin-x pin-t z-10\" :class=\"{'bg-white shadow': scrolled}\" @scroll=\"handleScroll\">\n      <button\n        class=\"back-btn fa-arrow-left fas px-4 py-3 text-2xl text-grey-darker\"\n        :class=\"{'text-white': !scrolled && article.Title}\"\n        @click.prevent=\"$router.back()\"\n      />\n    </div>\n    <div v-if=\"article.Title\">\n      <div class=\"img-wrapper relative\">\n        <img\n          v-if=\"article.ImageUrl\"\n          ref=\"article-image\"\n          :src=\"`${article.ImageUrl}&width=${800}`\"\n          class=\"full-width\"\n          alt=\"article.Title\"\n          @load=\"setLimitPos\"\n        >\n      </div>\n      <p class=\"text-sm pt-3 mb-2 px-5 text-red-dark flex items-center\">\n        <span v-for=\"(category, index) in article.ArticleCategory\" :key=\"index\">\n          {{ category | capitalize }}<span v-if=\"index !== article.ArticleCategory.length - 1\">&nbsp;|&nbsp;</span>\n        </span>\n      </p>\n      <div class=\"pb-5 px-5\">\n        <h1 class=\"font-bold serif text-grey-darkest mb-2 text-xl\">\n          {{ article.Title }}\n        </h1>\n        <!-- eslint-disable-next-line -->\n        <p class=\"text-grey-darker article-long-desc\" v-html=\"article.LongStory\" />\n      </div>\n    </div>\n    <!-- <h1 v-else class=\"font-bold m-3 mt-10 text-center text-xl\">Loading data...</h1> -->\n    <div v-else>\n      <content-loader\n        :height=\"300\"\n        :width=\"320\"\n        :speed=\"2\"\n        primary-color=\"#f3f3f3\"\n        secondary-color=\"#ecebeb\"\n        class=\"article-card max-w-sm rounded overflow-hidden bg-white\"\n      >\n        <!-- eslint-disable -->\n        <rect x=\"0\" y=\"0\" rx=\"0\" ry=\"0\" width=\"320\" height=\"156\" />\n        <rect x=\"24\" y=\"168\" rx=\"4\" ry=\"4\" width=\"50\" height=\"8\" />\n        <rect x=\"24\" y=\"188\" rx=\"4\" ry=\"4\" width=\"272\" height=\"18\" />\n        <rect x=\"24\" y=\"220\" rx=\"4\" ry=\"4\" width=\"250\" height=\"8\" />\n        <rect x=\"24\" y=\"240\" rx=\"4\" ry=\"4\" width=\"210\" height=\"8\" />\n        <rect x=\"24\" y=\"260\" rx=\"4\" ry=\"4\" width=\"170\" height=\"8\" />\n        <!-- eslint-enable -->\n      </content-loader>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport { ContentLoader } from 'vue-content-loader';\n\nexport default {\n  name: 'ArticleDetail',\n  components: {\n    ContentLoader,\n  },\n  data() {\n    return {\n      limitPosition: 100,\n      scrolled: false,\n      lastPosition: 0,\n    };\n  },\n  computed: {\n    ...mapGetters(['articles', 'article', 'screenImgWidth']),\n    articleId() {\n      return this.$route.params.articleId;\n    },\n  },\n  watch: {\n    $route() {\n      if (!this.articles.length && this.$route.params.articleId) this.fetchArticle(this.$route.params.articleId);\n      else this.$store.commit('setArticleInState', this.articles.find(article => parseInt(article.Id, 10) === parseInt(this.articleId, 10)) || {});\n    },\n  },\n  created() {\n    window.addEventListener('scroll', this.handleScroll);\n  },\n  destroyed() {\n    window.removeEventListener('scroll', this.handleScroll);\n  },\n  beforeMount() {\n    if (!this.articles.length) this.fetchArticle(this.$route.params.articleId);\n    else this.$store.commit('setArticleInState', this.articles.find(article => parseInt(article.Id, 10) === parseInt(this.articleId, 10)) || {});\n  },\n  methods: {\n    ...mapActions(['fetchArticle']),\n    handleScroll() {\n      if (this.lastPosition < window.scrollY && this.limitPosition < window.scrollY) {\n        this.scrolled = true;\n      }\n      if (this.lastPosition > window.scrollY) {\n        this.scrolled = false;\n      }\n      this.lastPosition = window.scrollY;\n    },\n    setLimitPos(e) {\n      const { target } = e;\n      const height = target.scrollHeight - 50;\n      this.limitPosition = height;\n    },\n  },\n};\n</script>\n\n<style scoped>\n  h1 {\n    line-height: 1.75rem;\n  }\n  .article-long-desc {\n    line-height: 1.5rem;\n  }\n  .img-wrapper {\n    min-height: 150px;\n  }\n  .img-wrapper:after {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: calc(100% - 6px);\n    content: '';\n    background-image: linear-gradient(to bottom right, #00000087, #ffffff00);\n  }\n</style>\n","h1[data-v-32fb117a] {\n  line-height: 1.75rem;\n}\n.article-long-desc[data-v-32fb117a] {\n  line-height: 1.5rem;\n}\n.img-wrapper[data-v-32fb117a] {\n  min-height: 150px;\n}\n.img-wrapper[data-v-32fb117a]:after {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: calc(100% - 6px);\n  content: '';\n  background-image: -webkit-gradient(linear, left top, right bottom, from(#00000087), to(#ffffff00));\n  background-image: linear-gradient(to bottom right, #00000087, #ffffff00);\n}\n\n\n/*# sourceMappingURL=chunk-07731ab4.dbb878f1.css.map*/"]}